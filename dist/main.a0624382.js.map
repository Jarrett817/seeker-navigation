{"version":3,"sources":["option.js","main.js"],"names":["$searchForm","$","renderOptions","$option","insertBefore","$siteList","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","url","simplifyUrl","replace","render","remove","forEach","node","index","$newLi","on","window","open","closeOptions","css","e","stopPropagation","confirm","splice","updateUrl","val","toUpperCase","indexOf","alert","key","prompt","push","onbeforeunload","string","stringify","setItem","document","i","length","toLowerCase"],"mappings":"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","file":"main.a0624382.js","sourceRoot":"..\\src","sourcesContent":["const $searchForm = $('.searchForm')\r\nconst renderOptions = () => {\r\n    const $option = $(`\r\n            <div class=\"visible\">\r\n             <div class=\"shade\"></div>\r\n             <div class=\"option-wrapper\">\r\n                <span>修改快捷方式</span>\r\n                <span>网址</span>\r\n                <input type=\"text\" class=\"url-input\">\r\n                <div class=\"buttons\">\r\n                <button class=\"delete\">删除</button>\r\n                <button class=\"cancel\">取消</button>\r\n                <button class=\"ok\">完成</button>\r\n                </div>\r\n            </div>\r\n            </div>\r\n`).insertBefore($searchForm)\r\n}\r\n\r\nexport {renderOptions}","import {renderOptions} from './option'\r\n\r\nconst $siteList = $('.siteList')\r\nconst $lastLi = $siteList.find('li.last')\r\nconst x = localStorage.getItem('x')\r\nconst xObject = JSON.parse(x)\r\nconst hashMap = xObject || [\r\n    {\r\n        logo: 'A',\r\n        url: 'https://www.acfun.cn'\r\n    },\r\n    {\r\n        logo: 'B',\r\n        url: 'https://www.bilibili.com'\r\n    }\r\n]\r\n//对输入的字符串格式化\r\nconst simplifyUrl = (url) => {\r\n    return url.replace('http://', '').replace('https://', '').replace('www.', '').replace(/\\/.*/, '')\r\n}\r\n\r\nconst render = () => {\r\n    $siteList.find('li:not(.last').remove()\r\n    hashMap.forEach((node, index) => {\r\n        const $newLi = $(`\r\n    <li>\r\n    <div class=\"site\">\r\n      <div class=\"logo\">${node.logo}</div>\r\n        <div class=\"link\">${simplifyUrl(node.url)}</div>\r\n          <div class=\"options\">\r\n            <svg class=\"icon\" aria-hidden=\"true\">\r\n              <use xlink:href=\"#icon-xuanxiang\"></use>\r\n            </svg>\r\n            </div>\r\n          </div>\r\n    </li>`).insertBefore($lastLi);\r\n        $newLi.on('click', () => {\r\n            window.open(node.url)\r\n        })\r\n        //关闭弹框\r\n        const closeOptions = $('.visible').css('display', 'none')\r\n        //删除\r\n        $newLi.on('click', '.options', (e) => {\r\n            //弹出对话框并且使遮罩显示\r\n            renderOptions()\r\n            e.stopPropagation();\r\n            $('.delete').on('click', () => {\r\n                closeOptions\r\n                confirm('确认删除？') ? hashMap.splice(index, 1) : null\r\n                render()\r\n            })\r\n            $('.cancel').on('click', () => {\r\n                closeOptions\r\n                render()\r\n            })\r\n            let updateUrl = () => {\r\n                //先获取现有的快捷方式，再修改\r\n                let url = $('.url-input').val()\r\n                if (url) {\r\n                    hashMap[index].logo = simplifyUrl(url)[0].toUpperCase()\r\n                    if (url.indexOf('http') !== 0) {\r\n                        url = 'https://' + url\r\n                    }\r\n                    hashMap[index].url = url\r\n                    closeOptions\r\n                    render()\r\n                } else {\r\n                    alert('未输入网址！')\r\n                    return\r\n                }\r\n            }\r\n\r\n            $('.ok').on('click', () => {\r\n                updateUrl()\r\n            })\r\n            $('.option-wrapper').on('keypress', (e) => {\r\n                const {\r\n                    key\r\n                } = e\r\n                if (key === 'Enter') {\r\n                    updateUrl()\r\n                }\r\n            })\r\n\r\n\r\n        })\r\n    })\r\n\r\n}\r\nrender()\r\n\r\n$('.addButton').on('click', () => {\r\n    let url = window.prompt('请输入你要添加的网站')\r\n    if (!url) {\r\n        alert('未输入网址！！')\r\n        return\r\n    }\r\n    if (url.indexOf('http') !== 0) {\r\n        url = 'https://' + url\r\n    }\r\n    hashMap.push({\r\n        logo: simplifyUrl(url)[0].toUpperCase(),\r\n        url: url\r\n    })\r\n    render()\r\n})\r\n//关闭前保存\r\nwindow.onbeforeunload = () => {\r\n    const string = JSON.stringify(hashMap)\r\n    localStorage.setItem('x', string)\r\n}\r\n\r\n$(document).on('keypress', (e) => {\r\n    const {\r\n        key\r\n    } = e\r\n    if ($('.visible')) {\r\n        return\r\n    }\r\n    for (let i = 0; i < hashMap.length; i++) {\r\n        if (hashMap[i].logo.toLowerCase() === key) {\r\n            window.open(hashMap[i].url)\r\n        }\r\n    }\r\n})\r\n\r\n"]}