{"version":3,"sources":["option.js","main.js"],"names":["$searchForm","$","renderOptions","$option","insertBefore","$siteList","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","url","simplifyUrl","replace","render","remove","forEach","node","index","$newLi","on","window","open","closeOptions","e","stopPropagation","confirm","splice","updateUrl","input","val","console","log","indexOf","toUpperCase","alert","key","prompt","push","onbeforeunload","string","stringify","setItem","document","i","length","toLowerCase"],"mappings":"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","file":"main.94804436.js","sourceRoot":"..\\src","sourcesContent":["const $searchForm = $('.searchForm')\nconst renderOptions = () => {\n    const $option = $(`\n            <div class=\"visible\">\n             <div class=\"shade\"></div>\n             <div class=\"option-wrapper\">\n                <span>修改快捷方式</span>\n                <span>网址</span>\n                <input  type=\"text\" class=\"url-input\" autofocus>\n                <div class=\"buttons\">\n                <button class=\"delete\">删除</button>\n                <button class=\"cancel\">取消</button>\n                <button class=\"ok\">完成</button>\n                </div>\n            </div>\n            </div>\n`).insertBefore($searchForm)\n}\n\nexport {\n    renderOptions\n}","import {\n    renderOptions\n} from './option'\n\nconst $siteList = $('.siteList')\nconst $lastLi = $siteList.find('li.last')\nconst x = localStorage.getItem('x')\nconst xObject = JSON.parse(x)\nconst hashMap = xObject || [{\n        logo: 'A',\n        url: 'https://www.acfun.cn'\n    },\n    {\n        logo: 'B',\n        url: 'https://www.bilibili.com'\n    }\n]\n//对输入的字符串格式化\nconst simplifyUrl = (url) => {\n    return url.replace('http://', '').\n    replace('https://', '').replace('www.', '').\n    replace(/\\/.*/, '')\n}\n\nconst render = () => {\n    //渲染之前先删除已添加的节点重新渲染\n    $siteList.find('li:not(.last)').remove()\n    //每次渲染都遍历hash\n    hashMap.forEach((node, index) => {\n        const $newLi = $(`\n    <li>\n    <div class=\"site\">\n      <div class=\"logo\">${node.logo}</div>\n        <div class=\"link\">${simplifyUrl(node.url)}</div>\n          <div class=\"options\">\n            <svg class=\"icon\" aria-hidden=\"true\">\n              <use xlink:href=\"#icon-xuanxiang\"></use>\n            </svg>\n            </div>\n          </div>\n    </li>`).insertBefore($lastLi);\n        $newLi.on('click', () => {\n            window.open(node.url)\n        })\n        //关闭弹框\n        const closeOptions = () => {\n            $('.visible').remove()\n        }\n        //删除\n        $newLi.on('click', '.options', (e) => {\n            //弹出对话框并且使遮罩显示\n            renderOptions()\n            e.stopPropagation();\n            $('.delete').on('click', () => {\n                closeOptions()\n                confirm('确认删除？') ? hashMap.splice(index, 1) : null\n                render()\n            })\n            $('.cancel').on('click', () => {\n                closeOptions()\n                render()\n            })\n           \n            let updateUrl = () => {\n                //先获取input的输入\n                let input=$('.url-input')\n                let url=input.val()\n                console.log($('.url-input'))\n                if (url) {\n                    if (url.indexOf('http') !== 0) {\n                        url = 'https://' + url\n                    }\n                    hashMap[index].logo = simplifyUrl(url)[0].toUpperCase()\n                    hashMap[index].url = url\n                    input.remove(0)\n                    console.log(hashMap)\n                    closeOptions()\n                    render()\n                } else {\n                    alert('未输入网址！')\n                    return\n                }\n            }\n\n            $('.ok').on('click', () => {\n                updateUrl()\n            })\n            $('.option-wrapper').on('keypress', (e) => {\n                const {\n                    key\n                } = e\n                if (key === 'Enter') {\n                    updateUrl()\n                }\n            })\n\n\n        })\n    })\n\n}\nrender()\n\n$('.addButton').on('click', () => {\n    let url = window.prompt('请输入你要添加的网站')\n    if (!url) {\n        alert('未输入网址！！')\n        return\n    }\n    if (url.indexOf('http') !== 0) {\n        url = 'https://' + url\n    }\n    hashMap.push({\n        logo: simplifyUrl(url)[0].toUpperCase(),\n        url: url\n    })\n    render()\n})\n//关闭前保存\nwindow.onbeforeunload = () => {\n    const string = JSON.stringify(hashMap)\n    localStorage.setItem('x', string)\n}\n\n$(document).on('keypress', (e) => {\n    const {\n        key\n    } = e\n    if ($('.visible')) {\n        return\n    }\n    for (let i = 0; i < hashMap.length; i++) {\n        if (hashMap[i].logo.toLowerCase() === key) {\n            window.open(hashMap[i].url)\n        }\n    }\n})"]}