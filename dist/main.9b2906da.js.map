{"version":3,"sources":["utils.js","option.js","main.js"],"names":["simplifyUrl","url","replace","$searchForm","$","renderOptions","render","hashMap","index","insertBefore","closeOptions","remove","updateUrl","input","val","alert","indexOf","logo","toUpperCase","console","log","on","confirm","splice","e","key","$siteList","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","length","forEach","node","$newLi","window","open","stopPropagation","trim","prompt","push","onbeforeunload","string","stringify","setItem","document","i","toLowerCase"],"mappings":"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","file":"main.9b2906da.js","sourceRoot":"..\\src","sourcesContent":["//对输入的字符串格式化\r\nconst simplifyUrl = (url) => {\r\n    return url.replace('http://', '').replace('https://', '').replace('www.', '').replace(/\\/.*/, '')\r\n}\r\nexport {simplifyUrl}","import {simplifyUrl} from \"./utils\";\n\nconst $searchForm = $('.searchForm')\nconst renderOptions = (render, hashMap, index) => {\n    $(`\n            <div class=\"visible\">\n             <div class=\"shade\"></div>\n             <div class=\"option-wrapper\">\n                <span>修改快捷方式</span>\n                <span>网址</span>\n                <input  type=\"text\" class=\"url-input\" autofocus>\n                <div class=\"buttons\">\n                <button class=\"delete\">删除</button>\n                <button class=\"cancel\">取消</button>\n                <button class=\"ok\">完成</button>\n                </div>\n            </div>\n            </div>\n`).insertBefore($searchForm)\n    //关闭弹框\n    const closeOptions = () => {\n        $('.visible').remove()\n    }\n    let updateUrl = (index) => {\n        //先获取input的输入\n        let input = $('.url-input')\n        let url = input.val()\n        if (!url) {\n            alert('未输入网址！')\n        } else {\n            if (url.indexOf('http') !== 0) {\n                url = 'https://' + url\n            }\n            hashMap[index].logo = simplifyUrl(url)[0].toUpperCase()\n            hashMap[index].url = url\n            input.remove(0)\n            console.log(hashMap)\n            closeOptions()\n            render()\n        }\n    }\n    //删除\n    $('.delete').on('click', () => {\n        closeOptions()\n        confirm('确认删除？') ? hashMap.splice(index, 1) : null\n        render()\n    })\n    $('.cancel').on('click', () => {\n        closeOptions()\n        render()\n    })\n\n    $('.ok').on('click', () => {\n        updateUrl(index)\n    })\n    $('.option-wrapper').on('keypress', (e) => {\n        const {\n            key\n        } = e\n        if (key === 'Enter') {\n            updateUrl(index)\n        }\n    })\n}\nexport {renderOptions}","import {\n    renderOptions\n} from './option'\nimport {simplifyUrl} from './utils'\n\nconst $siteList = $('.siteList')\nconst $lastLi = $siteList.find('li.last')\nconst x = localStorage.getItem('x')\nlet xObject = JSON.parse(x)\nif (xObject && xObject.length === 0) {\n    xObject = null\n}\nlet hashMap = xObject || [\n    {\n        logo: 'G',\n        url: 'https://github.com/'\n    },\n    {\n        logo: 'G',\n        url: 'https://gitee.com/'\n    },\n    {\n        logo: 'J',\n        url: 'https://juejin.im'\n    },\n    {\n        logo: 'Z',\n        url: 'https://www.zhihu.com/'\n    }\n]\n\nconst render = () => {\n    //渲染之前先删除已添加的节点重新渲染\n    $siteList.find('li:not(.last)').remove()\n    //每次渲染都遍历hash\n    hashMap.forEach((node, index) => {\n        const $newLi = $(`\n    <li>\n    <div class=\"site\">\n      <div class=\"logo\">${node.logo}</div>\n        <div class=\"link\">${simplifyUrl(node.url)}</div>\n          <div class=\"options\">\n            <svg class=\"icon\" aria-hidden=\"true\">\n              <use xlink:href=\"#icon-xuanxiang\"></use>\n            </svg>\n            </div>\n          </div>\n    </li>`).insertBefore($lastLi);\n        $newLi.on('click', () => {\n            window.open(node.url)\n        })\n        $newLi.on('click', '.options', (e) => {\n            //弹出对话框并且使遮罩显示\n            renderOptions(render, hashMap, index)\n            e.stopPropagation();\n        })\n    })\n}\nrender()\n\n$('.addButton').on('click', () => {\n    let url = $.trim(window.prompt('请输入你要添加的网站'))\n    if (url) {\n        if (url.indexOf('http') !== 0) {\n            url = 'https://' + url\n        }\n        hashMap.push({\n            logo: simplifyUrl(url)[0].toUpperCase(),\n            url: url\n        })\n        render()\n    } else {\n        alert('未输入网址！！')\n    }\n})\n//关闭前保存\nwindow.onbeforeunload = () => {\n    const string = JSON.stringify(hashMap)\n    localStorage.setItem('x', string)\n}\n\n$(document).on('keypress', (e) => {\n    const {\n        key\n    } = e\n    if ($('.visible').length!==0) {\n        return\n    }\n    for (let i = 0; i < hashMap.length; i++) {\n        if (hashMap[i].logo.toLowerCase() === key) {\n            window.open(hashMap[i].url)\n        }\n    }\n})\n"]}